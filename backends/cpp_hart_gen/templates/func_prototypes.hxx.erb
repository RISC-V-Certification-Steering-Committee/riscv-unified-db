// THIS FILE IS AUTOGENERATED
// IT IS NOT STANDALONE. IT IS A FUNCTION LIST FOR THE Hart CLASS


<%# need to get symtab at function scope -%>
<%- symtab = symtab.global_clone.push(nil) -%>

<%- arch_def.functions.each do |func| -%>
<%- next if func.builtin? -%>
//
// <%= func.description.gsub("\n", "\n// ") %>
<%= func.cpp_prototype(symtab) %>

<%- end -%>

//
// begin the builtin functions
//

constexpr bool implemented_Q_(const ExtensionName& ext, const VersionRequirement& req) const {

  <%- if arch_def.fully_configured? -%>
  <%- arch_def.implemented_extensions.each do |ext| -%>
  if (ext == ExtensionName::<%= ext.name %>) { return true; }
  <%- end -%>
  <%- elsif arch_def.partially_configured? -%>
  <%- arch_def.mandatory_extensions.each do |ext| -%>
  if (ext == ExtensionName::<%= ext.name %>) { return true; }
  <%- end -%>
  <%- end -%>
  return m_implemented_optional_extensions.find(ext) != m_implemented_optional_extensions.end();
}

constexpr bool implemented_Q_(const ExtensionName& ext) const {

  <%- if arch_def.fully_configured? -%>
  <%- arch_def.implemented_extensions.each do |ext| -%>
  if (ext == ExtensionName::<%= ext.name %>) { return true; }
  <%- end -%>
  <%- elsif arch_def.partially_configured? -%>
  <%- arch_def.mandatory_extensions.each do |ext| -%>
  if (ext == ExtensionName::<%= ext.name %>) { return true; }
  <%- end -%>
  <%- end -%>
  return m_implemented_optional_extensions.find(ext) != m_implemented_optional_extensions.end();
}

// generated decode function
InstBase<Hart>* decode(const XReg& pc, const Bits<INSTR_ENC_SIZE>& encoding);

<%- symtab.release -%>

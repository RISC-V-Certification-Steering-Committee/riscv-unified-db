<% unless db_obj.cert_test_procedures.empty? -%>
<% if defined?(use_description_list) && use_description_list -%>
Test Procedures: ::
<% else -%>
==== Test Procedures
<% end -%>

<% db_obj.cert_test_procedures.each do |tp| -%>
[%autowidth]
.*ID <%= tp.id %>* Test Procedure
|===

| *Name* | <%= tp.name %>
| *Description* | <%= tp.description %>
| *Coverage Points*
a|
<% tp.cert_coverage_points.each do |cp| -%>
* <%= cp.id %>
<% end # each cp -%>
| *Steps*
a|
<% tp.cert_steps.each do |step| -%>
. <%= step.name %>
.. <%= step.description %>
<%= step.note.nil? ? "" : "[NOTE]\n" + step.note %>
<% end # each step -%>
<% end # each test procedure -%>
|===

<% end # unless no test plans -%>
